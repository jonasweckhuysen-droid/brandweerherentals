<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Brandweer Herentals — Permanentie December 2025</title>

<!-- Standaard CSS -->
<link rel="stylesheet" href="/brandweerherentals/style.css">

<!-- Iconen -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- Docx2HTML Library -->
<script src="https://unpkg.com/docx2html/dist/docx2html.min.js"></script>

<style>
/* Extra styling voor permanentie */
#docContent {
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.permanentie-card {
    background: #fff;
    border-radius: 12px;
    padding: 15px 20px;
    box-shadow: 0 6px 12px rgba(0,0,0,0.1);
}

.permanentie-card h3 {
    margin-top: 0;
    font-size: 1.2rem;
    color: var(--red);
    display: flex;
    align-items: center;
    gap: 10px;
}

.permanentie-card ul {
    margin: 10px 0 0 0;
    padding-left: 20px;
}

.permanentie-card li {
    margin-bottom: 6px;
}
</style>
</head>

<body>
<div class="container">

  <!-- -----------------------------------
       HEADER
  ------------------------------------ -->
  <header id="appHeader">
    <div class="header-left">
      <img src="/brandweerherentals/icons/logo.png"
           alt="Brandweer Herentals"
           class="header-logo">
    </div>

    <div class="header-right">
      <div id="greeting" class="header-greeting"></div>
      <div id="datetime" class="header-datetime"></div>
      <div id="ploegOfWeek" class="header-ploeg"></div>
    </div>
  </header>

  <main class="content">
    <a href="/brandweerherentals/" class="backlink">
      <span class="arrow">←</span> Terug naar start
    </a>

    <h1>Permanentie December 2025</h1>

    <div id="docContent">Laden van permanenties…</div>
  </main>
</div>

<script>
async function loadPermanenties() {
  try {
    const url = '/brandweerherentals/permanentie%20december%202025.docx';
    const response = await fetch(url);
    const blob = await response.blob();

    // converteer DOCX naar HTML
    const result = await docx2html(blob);

    const container = document.getElementById('docContent');
    container.innerHTML = ""; // leegmaken

    // Verwerk de DOCX-HTML in grafische kaarten
    const paragraphs = Array.from(result.content.querySelectorAll('p'));
    let currentDate = null;
    let card = null;

    paragraphs.forEach(p => {
        const text = p.textContent.trim();
        if (!text) return;

        // detecteer datumregels (bv: maandag 1 december 2025)
        if (/^(maandag|dinsdag|woensdag|donderdag|vrijdag)/i.test(text)) {
            if (card) container.appendChild(card);
            currentDate = text;
            card = document.createElement('div');
            card.className = 'permanentie-card';
            const h3 = document.createElement('h3');
            h3.innerHTML = `<i class="fa-solid fa-calendar-days"></i> ${currentDate}`;
            card.appendChild(h3);
            const ul = document.createElement('ul');
            card.appendChild(ul);
        } else {
            // voeg als lijstitem toe
            const li = document.createElement('li');
            li.textContent = text;
            if (card) card.querySelector('ul').appendChild(li);
        }
    });

    if (card) container.appendChild(card);

  } catch (err) {
    console.error(err);
    document.getElementById('docContent').textContent = "Fout bij laden van het document.";
  }
}

// start laden
loadPermanenties();
</script>

</body>
</html>
