<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kantinebeheer — Firecrew</title>
<link rel="stylesheet" href="/brandweerherentals/style.css">
<style>
/* Extra styling voor voorraad aanpassing */
.grid-radio { display: grid; grid-template-columns: repeat(auto-fill,minmax(180px,1fr)); gap: 12px; margin-top: 20px; }
.radio-card { border: 2px solid #ccc; border-radius: 12px; padding: 16px; text-align: center; cursor: pointer; transition: all 0.2s; }
.radio-card:hover { border-color: var(--red); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.radio-card input { display: none; }
.radio-card.selected { border-color: var(--red); background: #fff0f0; }
.radio-card.low-stock { background: #ffe6e6; border-color: #c71f1f; }
button { background: var(--red); color: #fff; border: none; padding: 10px 16px; border-radius: 8px; font-weight: 600; cursor: pointer; margin-top: 12px; }
button:hover { background: var(--red-dark); }
</style>
</head>
<body>
<div class="container">

  <!-- Header -->
  <header id="appHeader">
    <div class="header-left">
      <img src="/brandweerherentals/icons/logo.png" alt="Brandweer Herentals" class="header-logo">
    </div>
    <div class="header-right">
      <div id="greeting" class="header-greeting"></div>
      <div id="datetime" class="header-datetime"></div>
    </div>
  </header>

  <main class="content">
    <a href="/brandweerherentals/firecrew.html" class="backlink">
      <span class="arrow">←</span> Terug naar Firecrew
    </a>

    <h2>Voorraad aanpassen</h2>
    <p>Kies eerst het product dat je wil aanpassen:</p>

    <div class="grid-radio" id="productGrid"></div>

    <div id="adjustSection" style="display:none;">
      <label for="newQty">Nieuwe hoeveelheid:</label>
      <input type="number" id="newQty" min="0" style="width:80px; margin-left:8px;">
      <button id="saveBtn">Opslaan</button>
    </div>
  </main>
</div>

<script>
const products = [
  { name: "Cola", stock: 12, min: 5 },
  { name: "Water", stock: 20, min: 5 },
  { name: "Chips", stock: 7, min: 3 },
  { name: "Snoep", stock: 5, min: 2 }
];

// Laad producten
const grid = document.getElementById("productGrid");
let selectedProduct = null;

function renderProducts() {
  grid.innerHTML = "";
  products.forEach((prod, index) => {
    const card = document.createElement("label");
    card.className = "radio-card";
    if(prod.stock < prod.min) card.classList.add("low-stock");
    card.innerHTML = `
      <input type="radio" name="product" value="${index}">
      <div><strong>${prod.name}</strong></div>
      <div>Huidige stock: ${prod.stock}</div>
      <div>Minimum stock: ${prod.min}</div>
    `;
    card.addEventListener("click", () => {
      selectedProduct = index;
      document.querySelectorAll(".radio-card").forEach(c => c.classList.remove("selected"));
      card.classList.add("selected");
      document.getElementById("adjustSection").style.display = "block";
      document.getElementById("newQty").value = prod.stock;
    });
    grid.appendChild(card);
  });
}

// Initial render
renderProducts();

// Opslaan knop
document.getElementById("saveBtn").addEventListener("click", () => {
  if (selectedProduct === null) return alert("Selecteer eerst een product!");
  const newQty = parseInt(document.getElementById("newQty").value);
  if (isNaN(newQty) || newQty < 0) return alert("Voer een geldige hoeveelheid in!");
  
  products[selectedProduct].stock = newQty;
  renderProducts();
  alert(`${products[selectedProduct].name} voorraad aangepast naar ${newQty}`);
});
</script>

<!-- Header script -->
<script src="/brandweerherentals/header.js"></script>
</body>
</html>
