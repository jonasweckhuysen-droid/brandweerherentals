<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Chauffeur Oefenmomenten — Brandweer Herentals</title>

<link rel="stylesheet" href="style.css">

<style>
  :root {
    --red: #c62828;
  }

  body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    background: #f2f4f7;
  }

  .container {
    max-width: 900px;
    margin: 20px auto;
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    padding: 20px;
    position: relative;
  }

  header#appHeader {
    display:flex;
    justify-content:space-between;
    align-items:center;
    background: var(--red);
    color: #fff;
    padding: 16px 20px;
    border-radius: 15px;
    margin: -20px -20px 25px -20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  }

  .header-left, .header-right { 
    display:flex; 
    align-items:center; 
    gap:10px; 
  }

  .header-logo { height:50px; }

  .header-greeting, 
  .header-datetime, 
  .header-ploeg {
    margin:0; 
    font-weight:700; 
    color:white; 
    font-size:0.95rem;
  }

  .backlink {
    display:inline-block;
    margin: 15px 0 18px 0;
    padding: 10px 14px;
    background: var(--red);
    color: #fff;
    text-decoration: none;
    border-radius: 8px;
    font-weight:700;
  }

  #searchInput {
    padding: 10px 12px;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-size: 1rem;
    margin-bottom: 20px;
    width: 100%;
  }

  .chauffeur-card {
    background: #f9f9f9;
    padding: 15px;
    border-radius: 12px;
    margin-bottom: 20px;
    border-left: 6px solid var(--red);
  }

  .chauffeur-card h3 {
    margin:0 0 8px 0;
  }

  .vehicle {
    margin-top:8px;
    padding:10px;
    border:1px solid #eee;
    border-radius:12px;
    background:#fff;
    font-weight: 600;
  }
</style>
</head>
<body>

<div class="container">

<header id="appHeader">
  <div class="header-left">
    <img src="/brandweerherentals/icons/logo.png" alt="Brandweer Herentals" class="header-logo">
  </div>
  <div class="header-right">
    <div id="greeting" class="header-greeting"></div>
    <div id="datetime" class="header-datetime"></div>
    <div id="ploegOfWeek" class="header-ploeg"></div>
  </div>
</header>

<main>
  <a href="index.html" class="backlink">← Terug naar menu</a>

  <input type="text" id="searchInput" placeholder="Zoek op naam...">

  <div id="chauffeurContainer"></div>
</main>

</div>

<script>
/* CHAUFFEURS */
const chauffeurs = {
  "Dries Boven": [],
  "Robin Buyens": [],
  "Bart Cools": [],
  "Kurt Cools": [],
  "Gianni Cornelis": [],
  "Roel Dekort": [],
  "Rik Goris": [],
  "Kris Hoeylaerts": [],
  "Philippe Hoeylaerts": [],
  "Vincent Leemans": [],
  "Bart Leten": [],
  "Steven Maes": [],
  "Liese Meyskens": [],
  "Rutger Moons": [],
  "Sven Van Buren": [],
  "Jakke Van den Broeck": [],
  "Kris Van Looveren": [],
  "Noël Van Roy": [],
  "Joris Van Vracem": [],
  "Cristoph Verhaegen": [],
  "Robbe Vervecken": [],
  "Steven Vervloet": []
};

/* Alfabetisch sorteren op ACHTERNAAM */
const orderedChauffeurs = Object.keys(chauffeurs).sort((a, b) => {
  const lastA = a.split(" ").pop().toLowerCase();
  const lastB = b.split(" ").pop().toLowerCase();
  return lastA.localeCompare(lastB);
});

/* Groepen in 2 splitsen */
const mid = Math.ceil(orderedChauffeurs.length / 2);
const groep1 = orderedChauffeurs.slice(0, mid);
const groep2 = orderedChauffeurs.slice(mid);

/* Datum bepalen */
const currentDate = new Date();
const month = currentDate.getMonth() + 1;
const year = currentDate.getFullYear();
const isVoorjaar = (month >= 1 && month <= 6);
const isEvenYear = year % 2 === 0;

/* Jaarlijks wisselen */
let voorjaarG1, najaarG1;

if (isEvenYear) {
  voorjaarG1 = ["B541","L544","L549","A545","D541","M541"];
  najaarG1   = ["T545","H541","A541","Containers"];
} else {
  voorjaarG1 = ["T545","H541","A541","Containers"];
  najaarG1   = ["B541","L544","L549","A545","D541","M541"];
}

/* Groep 2 is altijd het tegenovergestelde */
const voorjaarG2 = najaarG1;
const najaarG2   = voorjaarG1;

function getVoertuigenVoorChauffeur(chauffeur) {
  if (groep1.includes(chauffeur)) {
    return isVoorjaar ? voorjaarG1 : najaarG1;
  } else {
    return isVoorjaar ? voorjaarG2 : najaarG2;
  }
}

const container = document.getElementById("chauffeurContainer");

/* Renderen */
function renderChauffeurs(filter = "") {
  container.innerHTML = "";

  orderedChauffeurs
    .filter(name => name.toLowerCase().includes(filter.toLowerCase()))
    .forEach(chauffeur => {

      const voertuigen = getVoertuigenVoorChauffeur(chauffeur);

      const card = document.createElement("div");
      card.className = "chauffeur-card";

      const title = document.createElement("h3");
      title.textContent = chauffeur;
      card.appendChild(title);

      voertuigen.forEach(v => {
        const d = document.createElement("div");
        d.className = "vehicle";
        d.textContent = v;
        card.appendChild(d);
      });

      container.appendChild(card);
  });
}

renderChauffeurs();

/* Zoekfunctie */
document.getElementById("searchInput").addEventListener("input", function() {
  renderChauffeurs(this.value);
});
</script>

<script src="/brandweerherentals/header.js"></script>

</body>
</html>
