<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Personeelsfeuille â€“ Digitaal</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #111;
    color: #fff;
}

header {
    background: #b30000;
    padding: 15px;
    text-align: center;
    font-size: 1.4em;
    font-weight: bold;
}

.controls {
    padding: 15px;
    background: #1e1e1e;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.controls label {
    font-size: 0.85em;
    opacity: 0.8;
}

.controls input, .controls select, .controls button {
    padding: 8px;
    border-radius: 5px;
    border: none;
    font-size: 1em;
}

.controls button {
    background: #b30000;
    color: white;
    cursor: pointer;
}

.controls button:hover {
    background: #ff0000;
}

#pdf-container {
    position: relative;
    width: 100%;
    background: #333;
    padding-bottom: 50px;
}

.pdf-page {
    position: relative;
    width: 100%;
}

.pdf-page embed {
    width: 100%;
    height: 1200px;
}

.overlay {
    position: absolute;
    left: 0;
    top: 0;
    pointer-events: none;
}

.field {
    position: absolute;
    min-width: 120px;
    padding: 3px 6px;
    background: rgba(179, 0, 0, 0.85);
    color: #fff;
    font-size: 12px;
    cursor: move;
    pointer-events: auto;
    user-select: none;
}

.checkbox {
    width: 18px;
    height: 18px;
    border: 2px solid white;
    text-align: center;
    font-weight: bold;
    line-height: 16px;
}

.save-info {
    padding: 10px;
    text-align: center;
    background: #222;
    font-size: 0.9em;
    color: #bbb;
}
</style>
</head>

<body>

<header>
    ðŸ§¾ Digitale personeelsfeuille â€“ Brandweer Herentals
</header>

<div class="controls">
    <div>
        <label>Datum</label>
        <input type="date" id="datum">
    </div>

    <div>
        <label>Naam</label>
        <input type="text" id="naam" readonly>
    </div>

    <div>
        <label>Beginuur</label>
        <input type="time" id="beginuur">
    </div>

    <div>
        <label>Einduur</label>
        <input type="time" id="einduur">
    </div>

    <div>
        <label>Locatie</label>
        <input type="text" id="locatie">
    </div>

    <div>
        <label>Omschrijving</label>
        <input type="text" id="omschrijving">
    </div>

    <div>
        <label>Type opdracht</label>
        <select id="type">
            <option value="">-- Kies --</option>
            <option value="interventie">Interventie</option>
            <option value="ambulance">Ambulance</option>
            <option value="onderhoud">Onderhoud / Dienstopdracht</option>
            <option value="wacht">Wacht / Permanentie</option>
        </select>
    </div>

    <div style="display:flex;align-items:end;">
        <button onclick="updateFields()">Invullen op feuille</button>
    </div>
</div>

<div id="pdf-container">

    <!-- PAGINA 1 -->
    <div class="pdf-page" id="page1">
        <embed src="personeelsfeuille.pdf#page=1" type="application/pdf">

        <div class="overlay" id="overlay1">
            <div class="field" id="f-datum" style="left:60%; top:23%;">Datum</div>
            <div class="field" id="f-naam" style="left:15%; top:35%;">Naam</div>
            <div class="field" id="f-begin" style="left:40%; top:35%;">Begin</div>
            <div class="field" id="f-eind" style="left:55%; top:35%;">Eind</div>
            <div class="field" id="f-locatie" style="left:15%; top:42%;">Locatie</div>
            <div class="field" id="f-omschrijving" style="left:15%; top:49%;">Omschrijving</div>

            <div class="field checkbox" id="c-int" style="left:15%; top:60%;"></div>
            <div class="field checkbox" id="c-amb" style="left:30%; top:60%;"></div>
            <div class="field checkbox" id="c-ond" style="left:45%; top:60%;"></div>
            <div class="field checkbox" id="c-wacht" style="left:60%; top:60%;"></div>
        </div>
    </div>

    <!-- PAGINA 2 -->
    <div class="pdf-page" id="page2" style="margin-top:50px;">
        <embed src="personeelsfeuille.pdf#page=2" type="application/pdf">

        <div class="overlay" id="overlay2">
            <!-- Later uitbreiden indien nodig -->
        </div>
    </div>

</div>

<div class="save-info">
    Je kan alle velden verslepen naar de correcte plaats op de PDF.
</div>

<script>

// Naam automatisch uit geheugen
const storedName = "Jonas Weckhuysen";
document.getElementById("naam").value = storedName;

// VUL VELDEN
function updateFields() {
    document.getElementById("f-datum").innerText = datum.value;
    document.getElementById("f-naam").innerText = naam.value;
    document.getElementById("f-begin").innerText = beginuur.value;
    document.getElementById("f-eind").innerText = einduur.value;
    document.getElementById("f-locatie").innerText = locatie.value;
    document.getElementById("f-omschrijving").innerText = omschrijving.value;

    document.querySelectorAll(".checkbox").forEach(c => c.innerText = "");

    if(type.value === "interventie") document.getElementById("c-int").innerText = "X";
    if(type.value === "ambulance") document.getElementById("c-amb").innerText = "X";
    if(type.value === "onderhoud") document.getElementById("c-ond").innerText = "X";
    if(type.value === "wacht") document.getElementById("c-wacht").innerText = "X";
}

// DRAG FUNCTIE
document.querySelectorAll('.field').forEach(field => {
    let isDragging = false, startX, startY;

    field.addEventListener('mousedown', e => {
        isDragging = true;
        startX = e.clientX - field.offsetLeft;
        startY = e.clientY - field.offsetTop;
    });

    document.addEventListener('mousemove', e => {
        if (!isDragging) return;
        field.style.left = (e.clientX - startX) + 'px';
        field.style.top = (e.clientY - startY) + 'px';
    });

    document.addEventListener('mouseup', () => {
        isDragging = false;
    });
});

</script>

</body>
</html>
