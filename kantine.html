<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kantine â€” Brandweer Herentals</title>
<link rel="manifest" href="/brandweerherentals/manifest.json">
<meta name="theme-color" content="#c71f1f">
<style>
:root {
  --red: #c71f1f;
  --dark: #111;
  --light: #fff;
  --muted: #f6f6f6;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
html, body { margin:0; padding:0; min-height:100%; }
body { background: linear-gradient(180deg, #fff 0%, #f8f8f8 100%); display: flex; justify-content: center; padding: 20px; -webkit-font-smoothing: antialiased; }
.container { width: 100%; max-width: 780px; background: var(--light); border-radius: 18px; border: 4px solid var(--red); box-shadow: 0 8px 30px rgba(0,0,0,0.08); display: flex; flex-direction: column; overflow: hidden; }
header { display: flex; align-items: center; justify-content: space-between; padding: 18px; background: linear-gradient(90deg, var(--red), #8f1515); color: var(--light); }
.header-left { display: flex; align-items: center; gap: 12px; }
header .logo { width: 52px; height: 52px; border-radius: 10px; background: rgba(255,255,255,0.08); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 20px; }
header h1 { margin: 0; font-size: 18px; }
header p { margin: 0; font-size: 12px; opacity: 0.9; }
#header-right { text-align: right; }
main.content { flex: 1 1 auto; padding: 18px; }
.product-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(120px,1fr)); gap:12px; }
.product-card { background:#fff; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); text-align:center; padding:10px; }
.product-card img { width:60px; height:60px; object-fit:contain; }
.product-card h3 { margin:8px 0 4px; font-size:1em; }
.product-card p { margin:0 0 8px; color:#555; }
.controls button { background:var(--red); color:#fff; border:none; border-radius:5px; padding:4px 8px; cursor:pointer; font-weight:700; }
.controls span { display:inline-block; width:24px; text-align:center; font-weight:700; }
.cart { background:#fff; margin-top:20px; padding:12px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
.cart ul { list-style:none; padding:0; margin:0; }
.cart li { display:flex; justify-content:space-between; padding:4px 0; border-bottom:1px solid #eee; }
#cartTotal { text-align:right; font-weight:700; margin:10px 0; font-size:16px; }
button#confirmOrder { width:100%; padding:10px; font-size:1em; font-weight:700; border:none; border-radius:6px; background:var(--red); color:#fff; cursor:pointer; }
footer { padding: 12px 18px; font-size: 13px; color: #444; background: #fff; border-top: 1px solid #eee; display: flex; justify-content: center; align-items: center; }
.overlay { position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; z-index:9999; }
.overlay-content { background:#fff; padding:24px; border-radius:12px; max-width:420px; width:90%; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.2); }
.overlay-content h2 { margin-top:0; }
.overlay-content button { margin:6px; padding:12px 20px; font-weight:700; border:none; border-radius:8px; cursor:pointer; }
#qrCode img { margin-top:10px; width:200px; height:200px; }
.notice { background:#e7f3ff; border:1px solid #90caf9; color:#0d47a1; padding:10px; border-radius:8px; margin-top:10px; font-size:0.95em; }
</style>
</head>
<body>
<div class="container" role="application" aria-label="Fire Crew Herentals Kantine">
<header>
  <div class="header-left">
    <div class="logo">BWH</div>
    <div>
      <h1>Brandweer Herentals</h1>
      <p>Kantine</p>
    </div>
  </div>
 <div id="header-right"></div>
</header>

<main class="content">
  <div class="product-grid" id="productGrid"></div>

  <div class="cart" id="cartSection">
    <h2>ðŸ§¾ Jouw bestelling</h2>
    <ul id="cartList"></ul>
    <div id="cartTotal"></div>
    <button id="confirmOrder">Bevestig bestelling</button>
  </div>
</main>

<footer>Brandweer Herentals â€” Kantinebeheer</footer>
</div>

<div id="paymentOverlay" class="overlay" style="display:none;">
  <div class="overlay-content">
    <h2>ðŸ’³ Kies betaalmethode</h2>
    <p id="overlayTotal" style="font-weight:700;"></p>
    <button id="payPayconiq" style="background:#00b0ff;color:#fff;">Payconiq</button>
    <button id="payCash" style="background:#ffbb00;color:#111;">Cash</button>
    <button id="payTransfer" style="background:#00c853;color:#fff;">Bankoverschrijving</button>
    <div id="qrCode"></div>
    <div id="noticeMsg"></div>
    <button id="closeOverlay" style="margin-top:12px;background:#ccc;color:#111;">Sluiten</button>
  </div>
</div>

<script>
// Producten
const producten = [
  { naam: "Pintje", prijs: 1.5, img: "/brandweerherentals/icons/drinks/beer.png" },
  { naam: "Cola", prijs: 1.8, img: "/brandweerherentals/icons/drinks/cola.png" },
  { naam: "Fanta", prijs: 1.8, img: "/brandweerherentals/icons/drinks/fanta.png" },
  { naam: "Water", prijs: 1.0, img: "/brandweerherentals/icons/drinks/water.png" },
  { naam: "Koffie", prijs: 1.2, img: "/brandweerherentals/icons/drinks/coffee.png" },
  { naam: "Chips", prijs: 1.5, img: "/brandweerherentals/icons/drinks/chips.png" }
];

const grid = document.getElementById("productGrid");
const cartList = document.getElementById("cartList");
const cartTotal = document.getElementById("cartTotal");
const confirmBtn = document.getElementById("confirmOrder");
let cart = {};

// Producten tonen
producten.forEach(p => {
  const card = document.createElement("div");
  card.className="product-card";
  card.innerHTML=`
    <img src="${p.img}" alt="${p.naam}">
    <h3>${p.naam}</h3>
    <p>â‚¬${p.prijs.toFixed(2)}</p>
    <div class="controls">
      <button class="minus">âˆ’</button>
      <span>0</span>
      <button class="plus">+</button>
    </div>
  `;
  const countEl = card.querySelector("span");
  const minusBtn = card.querySelector(".minus");
  const plusBtn = card.querySelector(".plus");

  plusBtn.onclick = () => {
    cart[p.naam] = (cart[p.naam]||0) + 1;
    countEl.textContent = cart[p.naam];
    updateCart();
  };
  minusBtn.onclick = () => {
    if(cart[p.naam]){
      cart[p.naam]--;
      if(cart[p.naam]<=0){ delete cart[p.naam]; countEl.textContent=0; } 
      else countEl.textContent = cart[p.naam];
      updateCart();
    }
  };
  grid.appendChild(card);
});

// Winkelmandje updaten
function updateCart(){
  cartList.innerHTML="";
  let totaal=0;
  for(const [naam,aantal] of Object.entries(cart)){
    const product = producten.find(p => p.naam===naam);
    const subtotaal = product.prijs*aantal;
    totaal += subtotaal;

    const li = document.createElement("li");
    li.textContent=`${aantal} Ã— ${naam}`;
    const price = document.createElement("span");
    price.textContent=`â‚¬${subtotaal.toFixed(2)}`;
    li.appendChild(price);
    cartList.appendChild(li);
  }

  if(totaal===0){
    cartList.innerHTML="<li>Geen producten geselecteerd.</li>";
    cartTotal.textContent="";
    confirmBtn.disabled=true;
  } else {
    const totalLi = document.createElement("li");
    totalLi.innerHTML=`<strong>Totaal</strong><span><strong>â‚¬${totaal
