<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Brandweer Herentals â€” Portal</title>

<link rel="manifest" href="/brandweerherentals/manifest.json">
<meta name="theme-color" content="#c71f1f">

<link rel="stylesheet" href="style.css">

<style>
#forceInstall, #nameOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.92);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  color: #fff;
  text-align: center;
  padding: 20px;
}

.box {
  background: #111;
  border-radius: 16px;
  padding: 28px;
  max-width: 360px;
  width: 100%;
}

input {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  border: none;
  margin-bottom: 10px;
}

button {
  width: 100%;
  padding: 14px;
  border-radius: 12px;
  border: none;
  background: #c71f1f;
  color: #fff;
  font-weight: 700;
}
</style>
</head>

<body>

<!-- INSTALL OVERLAY -->
<div id="forceInstall" style="display:none;">
  <div class="box">
    <h2>ðŸ“² App installeren</h2>
    <p>Deze applicatie werkt enkel als geÃ¯nstalleerde app.</p>
    <button id="forceInstallBtn">Installeer app</button>
  </div>
</div>

<!-- NAAM OVERLAY -->
<div id="nameOverlay" style="display:none;">
  <div class="box">
    <h2>ðŸ‘¤ Identificatie</h2>
    <p>Voornaam en achternaam met hoofdletter<br><small>bv. Jonas Weckhuysen</small></p>
    <input id="nameInput" placeholder="Voornaam Achternaam">
    <button id="saveName">Verder</button>
    <p id="nameError" style="color:#ff6b6b;display:none;">Ongeldig formaat</p>
  </div>
</div>

<div class="container" style="display:none;" id="appContent">
<header id="appHeader"></header>
<main class="content">
  <div class="grid" id="buttonGrid"></div>
</main>
<footer><div>Versie 1.1</div></footer>
</div>

<script>
// =============================
// PERSONEEL + FUNCTIES
// =============================
const personnel = {
  "Dirk Geens":["officier","bevelvoerder"],
  "Sus Meulemans":["officier"],
  "Gerry Verschueren":["officier"],
  "Danny Van den Bergh":["officier","bevelvoerder","duiker"],
  "Bart Verbiest":["ambulancier"],
  "Johan Peeters":["ambulancier"],
  "Seffi Vleugels":["ambulancier"],
  "Dries Boven":["bevelvoerder","chauffeur","brandweer"],
  "Pedro Wallyn":["bevelvoerder","chauffeur","brandweer","duiker"],
  "Bart Leten":["chauffeur","brandweer"],
  "Steven Maes":["chauffeur","ambulancier","brandweer"],
  "Bart Cools":["chauffeur","brandweer"],
  "Joris Peeters":["brandweer"],
  "Bram Addiers":["brandweer"],
  "Robin Buyens":["chauffeur","brandweer","ambulancier"],
  "Maarten Geerinckx":["brandweer"],
  "Pieter Van Doninck":["brandweer"],
  "Bart Govaerts":["bevelvoerder","brandweer"],
  "Roel Dekort":["chauffeur","ambulancier","brandweer"],
  "Jonas Weckhuysen":["chauffeur","ambulancier","brandweer","duiker"],
  "Luc Verwimp":["brandweer"],
  "Kris Van Looveren":["brandweer"],
  "Kurt Cools":["chauffeur","duiker","brandweer"],
  "Simon Baeyens":["ambulancier","brandweer"],
  "Mike Dillen":["brandweer"],
  "Lies Van Peer":["brandweer"],
  "Frank Verschueren":["bevelvoerder","chauffeur","brandweer"],
  "Rudi Van den Bergh":["ambulancier","brandweer"],
  "Patrick Van Hove":["ambulancier","brandweer","chauffeur","duiker"],
  "Patrick Veris":["brandweer"],
  "Kris Hoeylaerts":["brandweer","chauffeur"],
  "NoÃ«l Van Roy":["brandweer","chauffeur"],
  "Ignas De Keyser":["brandweer"],
  "Joris Nyssen":["brandweer"],
  "Deuis Mulop":["brandweer"],
  "Evy FranÃ§ois":["brandweer"],
  "Jan Laeremans":["bevelvoerder","brandweer"],
  "Kristof Geens":["bevelvoerder","brandweer"],
  "Vincent Leemans":["chauffeur","ambulancier","brandweer"],
  "Sven Van Buren":["chauffeur","ambulancier","brandweer"],
  "Jef Leysen":["brandweer","duiker"],
  "Steven Vervloet":["chauffeur","brandweer"],
  "Liese Meyskens":["chauffeur","brandweer"],
  "Jens Van den Bruel":["brandweer"],
  "Dries Van der Linden":["brandweer"],
  "Thibo Van Doninck":["brandweer","ambulancier"],
  "Emiel Luyten":["bevelvoerder","brandweer"],
  "Jef Luyten":["bevelvoerder","ambulancier","brandweer"],
  "Rutger Moons":["bevelvoerder","chauffeur","brandweer"],
  "Philippe Hoeylaerts":["ambulancier","chauffeur","brandweer"],
  "Gianni Cornelis":["ambulancier","chauffeur","brandweer"],
  "Danny Van den Broeck":["chauffeur","brandweer"],
  "Bart Boons":["ambulancier","duiker","brandweer"],
  "Jochen Smolders":["brandweer"],
  "Vincent Fassaert":["brandweer"],
  "Alain Leemans":["brandweer","bevelvoerder","chauffeur","duiker"],
  "Hans Van Thielen":["bevelvoerder","brandweer"],
  "Joris Van Vracem":["ambulancier","brandweer","chauffeur"],
  "Rik Goris":["ambulancier","chauffeur","brandweer"],
  "Toon Vervoort":["brandweer"],
  "Wannes Verhegge":["brandweer","duiker"],
  "Christoph Verhaegen":["brandweer","chauffeur","ambulancier"],
  "Robbe Vervecken":["ambulancier","brandweer","chauffeur"],
  "Lander Mondelaers":["brandweer"],
  "Evans Ocran":["brandweer"],
  "Bob Debecker":["brandweer"]
};

// =============================
// NAAM VALIDATIE
// =============================
const nameRegex = /^[A-Z][a-zÃ -Ã¿]+ [A-Z][a-zÃ -Ã¿]+$/;

document.getElementById("saveName").onclick = () => {
  const name = document.getElementById("nameInput").value.trim();
  if (!nameRegex.test(name) || !personnel[name]) {
    document.getElementById("nameError").style.display = "block";
    return;
  }
  localStorage.setItem("userName", name);
  location.reload();
};

// =============================
// START
// =============================
window.addEventListener("DOMContentLoaded", () => {
  if (!localStorage.getItem("userName")) {
    document.getElementById("nameOverlay").style.display = "flex";
    return;
  }
  document.getElementById("appContent").style.display = "block";
  renderGrid();
});

// =============================
// GRID (toegangslogica klaar)
// =============================
function renderGrid() {
  const roles = personnel[localStorage.getItem("userName")] || [];
  const grid = document.getElementById("buttonGrid");
  grid.innerHTML = "";

  Object.values(links).forEach(item => {
    grid.appendChild(Object.assign(document.createElement("a"), {
      className:"btn",
      href:item.url,
      innerHTML:`<div class="icon">${item.icon}</div><div>${item.title}</div>`
    }));
  });
}
</script>

</body>
</html>
