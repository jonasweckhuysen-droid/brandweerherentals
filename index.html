<!doctype html>
<html lang="nl">
<head>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#c71f1f">

<script>
  // Service worker registreren
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js")
      .then(() => console.log("Service worker geregistreerd"))
      .catch(err => console.error("Service worker fout:", err));
  }
</script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Brandweer Herentals — Portal</title>

  <!-- Basic styling: brandweer rood / zwart / wit -->
  <style>
    :root{
      --red:#c71f1f;
      --dark:#111;
      --light:#ffffff;
      --muted:#f6f6f6;
      --radius:14px;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    html,body{height:100%;}
    body{
      margin:0;
      background: linear-gradient(180deg, #fff 0%, #fff 35%, #f8f8f8 100%);
      color:var(--dark);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding:20px;
    }

    .container{
      width:100%;
      max-width:780px;
      background:var(--light);
      border-radius:18px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.08);
      overflow:hidden;
      border: 4px solid var(--red);
    }

    header{
      display:flex;
      align-items:center;
      gap:12px;
      padding:18px;
      background:linear-gradient(90deg, var(--red), #8f1515);
      color:var(--light);
    }
    header .logo{
      width:52px;
      height:52px;
      border-radius:10px;
      background:rgba(255,255,255,0.08);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:20px;
      box-shadow: inset 0 -4px 8px rgba(0,0,0,0.15);
    }
    header h1{
      font-size:18px;
      margin:0;
      letter-spacing:0.2px;
    }
    header p{margin:0;font-size:12px;opacity:0.95}

    .content{
      padding:18px;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }

    /* big buttons */
    .btn{
      display:flex;
      align-items:center;
      gap:14px;
      padding:16px;
      border-radius:12px;
      background:var(--muted);
      text-decoration:none;
      color:var(--dark);
      font-weight:700;
      font-size:16px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.04);
      transition: transform .06s ease, box-shadow .06s ease;
    }
    .btn:active{ transform: translateY(1px); }
    .btn .icon{
      width:52px;
      height:52px;
      min-width:52px;
      border-radius:10px;
      background:linear-gradient(180deg,#ffffff,#f0f0f0);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }
    .btn small{ display:block; font-weight:600; font-size:12px; opacity:0.8; margin-top:4px; font-weight:600;}

    /* special style for primary (red) */
    .primary{
      background: linear-gradient(90deg,var(--red), #9c1616);
      color:var(--light);
    }
    .primary .icon{ background: rgba(255,255,255,0.08); color:var(--light); }

    /* secondary */
    .secondary{ background: linear-gradient(180deg,#fff,#fafafa); }

    /* footer */
    footer{
      padding:12px 18px;
      font-size:13px;
      color:#444;
      background: #fff;
      border-top:1px solid #eee;
      display:flex;
      justify-content:space-between;
      gap:12px;
      align-items:center;
    }

    .small{
      font-size:12px;
      color:#666;
    }

    /* Responsive: two columns on wider screens */
    @media(min-width:620px){
      .grid{ grid-template-columns: 1fr 1fr; }
    }
  </style>
</head>
<body>
  <div class="container" role="application" aria-label="Fire Crew Herentals portal">
    <header>
      <div class="logo" aria-hidden="true">BWH</div>
      <div>
        <h1>Brandweer Herentals</h1>
        <p>Interne app</p>
      </div>
    </header>

    <main class="content">
      <div class="grid" id="buttonsGrid">
        <!-- BUTTON: Defectmelding -->
        <a href="#" id="btn-defect" class="btn primary" aria-label="Open defectmelding">
          <div class="icon" aria-hidden="true">🔧</div>
          <div>
            <div>Defectmelding</div>
            <small>Meld snel defecten aan materiaal of voertuigen</small>
          </div>
        </a>

        <!-- BUTTON: Voertuigreservatie -->
        <a href="#" id="btn-vehicle" class="btn" aria-label="Open voertuigreservatie">
          <div class="icon" aria-hidden="true">🚒</div>
          <div>
            <div>Voertuigreservatie</div>
            <small>Reserveer een voertuig of controleer beschikbaarheid</small>
          </div>
        </a>

        <!-- BUTTON: Bestelling -->
        <a href="#" id="btn-order" class="btn" aria-label="Open bestelling">
          <div class="icon" aria-hidden="true">📦</div>
          <div>
            <div>Bestelling</div>
            <small>Bestel materiaal of verbruiksgoederen</small>
          </div>
        </a>

        <!-- Add extra button slot for later -->
        <a href="#" id="btn-verdi" class="btn" aria-label="Open verdi">
          <div class="icon" aria-hidden="true">📋</div>
          <div>
            <div>Verdi</div>
            <small>Oproepen en status aanpassen</small>
          </div>
        </a>
      </div>
  <a href="#" id="btn-abiweb" class="btn" aria-label="Open abiweb">
          <div class="icon" aria-hidden="true">📋</div>
          <div>
            <div>Abiweb</div>
            <small>Oefeningen en prestaties </small>
          </div>
        </a>
      </div>
<footer>
      <div class="small">Versie 1.0 — </div>
      <div class="small">Open in je telefoon: voeg toe aan beginscherm voor snelle toegang</div>
    </footer>
    </main>
  </div>

  <!-- Kleine script om links te vervangen / makkelijk editbaar te maken -->
  <script>
    // PAS HIER DE LINKS AAN: vul jouw formulier/URL in per knop
    const links = {
      defect: "https://forms.cloud.microsoft/Pages/ResponsePage.aspx?id=ex_6l868RE6S2t-IkEL0dqocXptaGhNPlV-vS_rmuEtUNTZUNVFFSUQwRldXTkpKREpGVlYyUzIwWC4u",
      vehicle: "https://forms.cloud.microsoft/Pages/ResponsePage.aspx?id=ex_6l868RE6S2t-IkEL0dqocXptaGhNPlV-vS_rmuEtUN0JBTzkySTI0STFZUlk4Q01GOVRTR1UzMy4u", 
      order: "https://forms.cloud.microsoft/Pages/ResponsePage.aspx?id=ex_6l868RE6S2t-IkEL0dqocXptaGhNPlV-vS_rmuEtUNFdJQlNJREREVTZFTkM2QUhJWlhaV1NWSS4u",
      verdi: "https://kempen.verdi.cloud/"
      abiweb: "https://identity.brandweerzonekempen.be/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Dabiweb.client.new%26redirect_uri%3Dhttps%253A%252F%252Fgateway.brandweerzonekempen.be%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520offline_access%2520env%253Alive%2520app%253Aabiweb%26code_challenge%3DNxCaark0uDHEU8DAz6lc2n-3BMq_9tzGbt8bDULVqEk%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638968098682383278.NzQyZWJiYjgtYTU2Zi00NzA2LThhNjQtMmMwMzRjNzYyZDNiNjdiZDk5NWItMWM4OC00NTE2LTk5NjYtN2EwMzViZTlhM2Qx%26state%3DCfDJ8LmaVBoVLF9AkPzOFxLSOyE2-nP3tXkvNXBI333LRgrJHVuNlzG2cT2tEZDxwTTZm8J_jAGbX7Xu7kxecvY2ZDIiXQt9pWoSbknJAgM27NjIa6DdCR9avaYcXWKlp-ZaUtSvZ3-__BRxnFAVP2AerK8nZ5zuIWZBlHYVqAJv2hCWjvu2x3ih_9a-VcKa5jVAuLTHUyMj7dXIOZqL6BEQAJqRnfbi1DeTC9jv2yWfwJgkDmxUcwEdDRgQZei6MmlOLHS0_rEeownDF44QB8JhIO1sfNdtKgbDYflKK33hc6j8PBYW_myfZ5YoMnxG_L0lt8WMHixeMr3f9f2it8hKOApl2m5tLhmXq1wuZqx_0swWwPYxKe2ybBePOOLMlCXsA07F1D85b1iKCaLJ0TbPSWHgjZRiV7gL3VGKKPBc4qssHZdEYOKed09oNTATwPLT15472nOTumQ7TIOACJ2oUvuYTOw3X4KQ6Ff8bzFhSmzRMwG_C1eL7-1F5iLP8hxTSnEeVV0TQ4SGuRT2MolQ1L8%26x-client-SKU%3DID_NET8_0%26x-client-ver%3D7.1.2.0&client_Id=abiweb.client.new"
    };

    // assign to elements
    document.getElementById("btn-defect").href = links.defect;
    document.getElementById("btn-vehicle").href = links.vehicle;
    document.getElementById("btn-order").href = links.order;
    document.getElementById("btn-verdi").href = links.verdi;
    document.getElementById("btn-abiweb").href = links.abiweb;

    // Optional: open in same tab on mobile, new tab on desktop
    Array.from(document.querySelectorAll(".btn")).forEach(btn=>{
      btn.addEventListener("click", function(e){
        // if the href is placeholder (#) do nothing
        const h = this.getAttribute("href");
        if(!h || h === "#") {
          e.preventDefault();
          alert("Deze knop is nog niet ingesteld. Pas de links in het index.html aan.");
        }
      });
    });
  </script>
<script>
  let deferredPrompt;

  // 1️⃣ Altijd een knop tonen
  const installBtn = document.createElement('button');
  installBtn.textContent = '📱 App toevoegen aan startscherm';
  installBtn.style.position = 'fixed';
  installBtn.style.bottom = '20px';
  installBtn.style.left = '50%';
  installBtn.style.transform = 'translateX(-50%)';
  installBtn.style.background = '#c71f1f';
  installBtn.style.color = 'white';
  installBtn.style.border = 'none';
  installBtn.style.padding = '12px 20px';
  installBtn.style.borderRadius = '10px';
  installBtn.style.fontSize = '16px';
  installBtn.style.boxShadow = '0 2px 8px rgba(0,0,0,0.3)';
  installBtn.style.zIndex = '9999';
  installBtn.style.cursor = 'pointer';
  installBtn.style.display = 'none';
  document.body.appendChild(installBtn);

  // 2️⃣ Toon knop zodra site geladen is
  window.addEventListener('load', () => {
    installBtn.style.display = 'block';
  });

  // 3️⃣ Bewaar prompt als die beschikbaar komt
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    console.log('✅ beforeinstallprompt event gedetecteerd');
  });

  // 4️⃣ Klikgedrag van knop
  installBtn.addEventListener('click', async () => {
    if (deferredPrompt) {
      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      if (outcome === 'accepted') {
        console.log('App geïnstalleerd');
      } else {
        console.log('Gebruiker weigerde installatie');
      }
      deferredPrompt = null;
    } else {
      alert(
        '📲 Om de app te installeren: tik op de drie puntjes ⋮ bovenaan in Chrome, en kies "App installeren" of "Toevoegen aan startscherm".'
      );
    }
  });
</script>

</body>
</html>
