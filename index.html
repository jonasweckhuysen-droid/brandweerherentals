<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Brandweer Herentals â€” Portal</title>
<link rel="manifest" href="/brandweerherentals/manifest.json">
<meta name="theme-color" content="#c71f1f">
<style>
:root {
  --red: #c71f1f;
  --dark: #111;
  --light: #fff;
  --muted: #f6f6f6;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
html, body { margin: 0; padding: 0; min-height: 100%; }
body { background: linear-gradient(180deg, #fff 0%, #f8f8f8 100%); display: flex; justify-content: center; align-items: flex-start; padding: 20px; -webkit-font-smoothing: antialiased; overflow-y: auto; }
.container { width: 100%; max-width: 780px; background: var(--light); border-radius: 18px; border: 4px solid var(--red); box-shadow: 0 8px 30px rgba(0,0,0,0.08); display: flex; flex-direction: column; height: auto; overflow: hidden; }
header { display: flex; align-items: center; justify-content: space-between; padding: 18px; background: linear-gradient(90deg, var(--red), #8f1515); color: var(--light); }
.header-left { display: flex; align-items: center; gap: 12px; }
header .logo { width: 52px; height: 52px; border-radius: 10px; background: rgba(255,255,255,0.08); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 20px; }
header h1 { margin: 0; font-size: 18px; }
header p { margin: 0; font-size: 12px; opacity: 0.9; }
#header-right { text-align: right; }
#datetime { font-size: 14px; opacity: 0.9; }
#ploegOfWeek { font-weight:600; font-size:14px; color:#fff; margin-top:2px; }
main.content { flex: 1 1 auto; padding: 18px; }
.grid { display: grid; gap: 12px; grid-template-columns: 1fr; }
@media (min-width: 620px) { .grid { grid-template-columns: 1fr 1fr; } }
.btn { display: flex; align-items: center; gap: 14px; padding: 16px; border-radius: 12px; text-decoration: none; font-weight: 700; font-size: 16px; box-shadow: 0 4px 8px rgba(0,0,0,0.04); transition: 0.06s; color: var(--dark); background: var(--muted); }
.btn:active { transform: translateY(1px); }
.btn .icon { width: 52px; height: 52px; min-width: 52px; border-radius: 10px; background: linear-gradient(180deg, #fff, #f0f0f0); display: flex; align-items: center; justify-content: center; font-size: 20px; box-shadow: 0 2px 6px rgba(0,0,0,0.06); overflow: hidden; }
.btn img { width: 100%; height: 100%; object-fit: cover; border-radius: 10px; }
.btn small { display: block; font-size: 12px; opacity: 0.8; margin-top: 4px; }
footer { padding: 12px 18px; font-size: 13px; color: #444; background: #fff; border-top: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
#installPrompt { display:none; position:fixed; bottom:0; left:0; right:0; background:#c71f1f; color:white; padding:12px 16px; text-align:center; font-weight:700; z-index:9999; font-size:14px; border-top-left-radius:12px; border-top-right-radius:12px; box-shadow:0 -2px 8px rgba(0,0,0,0.3); display:flex; justify-content:center; align-items:center; gap:12px;}
#installPrompt button { padding:6px 12px; border:none; border-radius:8px; background:white; color:#c71f1f; font-weight:700; cursor:pointer;}
#installPrompt span.close { cursor:pointer; font-weight:700; }
</style>
</head>
<body>
<div class="container">
<header>
  <div class="header-left">
    <div class="logo">BWH</div>
    <div>
      <h1>Brandweer Herentals</h1>
      <p>Interne app</p>
    </div>
  </div>
 <div id="header-right">
  <div id="datetime"></div>
  <div id="ploegOfWeek"></div>
</div>
</header>
<main class="content">
  <div class="grid" id="buttonGrid"></div>
</main>
<footer>
  <div>Versie 1.1</div>
  <div>ðŸ“± Voeg toe aan startscherm</div>
</footer>
</div>

<div id="installPrompt">
  <span id="installText">ðŸ“² Voeg de app toe aan je startscherm</span>
  <button id="installNow">Toevoegen</button>
  <span class="close" id="installClose">âœ–</span>
</div>

<script>
// ðŸ”— Links instellen (met Firecrew)
const links = {
  abiweb: { title: "Abiweb", icon: "/brandweerherentals/icons/buttons/abiweb.png", desc: "Oefeningen en prestaties", url: "https://identity.brandweerzonekempen.be/Identity/Account/Login" },
  agenda: { title: "Agenda", icon: "ðŸ“…", desc: "Belangrijke data en evenementen", url: "/brandweerherentals/agenda.html" },
  defect: { title: "Defectmelding", icon: "ðŸ”§", desc: "Meld defecten aan materiaal of voertuigen", url: "https://forms.cloud.microsoft" },
  kantine: { title: "Kantine", icon: "ðŸ»", desc: "Bestel en betaal drank & snacks", url: "/brandweerherentals/kantine.html" },
  logistiek: { title: "Logistiek", icon: "/brandweerherentals/icons/buttons/winkelkar.png", desc: "Meld een logistiek transport aan", url: "https://form.jotform.com/230682691731055" },
  verdi: { title: "Verdi", icon: "/brandweerherentals/icons/buttons/verdi.png", desc: "Oproepen en status aanpassen", url: "https://kempen.verdi.cloud/" },
  firecrew: { title: "Firecrew", icon: "ðŸ”¥", desc: "Exclusieve VZW-sectie", url: "/brandweerherentals/firecrew.html" }
};

// ðŸ”¤ Sorteren en tonen
const sorted = Object.values(links).sort((a,b)=>a.title.localeCompare(b.title,'nl'));
const grid = document.getElementById("buttonGrid");
sorted.forEach(item => {
  const a = document.createElement("a");
  a.className = "btn";
  a.href = item.url;
  a.innerHTML = `
    <div class="icon">${item.icon.endsWith(".png") ? `<img src="${item.icon}" alt="${item.title}">` : item.icon}</div>
    <div><div>${item.title}</div><small>${item.desc}</small></div>`;
  grid.appendChild(a);
});

// ðŸ•’ Datum + ploeg
function currentPloeg(){
  const cyclus = ["A1","B1","C1","A2","B2","C2"];
  const ref = new Date("2025-01-03T12:00:00");
  const diff = Math.floor((Date.now() - ref) / (7*24*60*60*1000));
  return cyclus[(diff % cyclus.length + cyclus.length) % cyclus.length];
}
function updateHeader(){
  const now = new Date();
  document.getElementById("datetime").textContent = now.toLocaleString('nl-BE',{weekday:'short',day:'2-digit',month:'short',hour:'2-digit',minute:'2-digit'});
  document.getElementById("ploegOfWeek").textContent = "Ploeg van week: " + currentPloeg();
}
setInterval(updateHeader,1000); updateHeader();
</script>
</body>
</html>
